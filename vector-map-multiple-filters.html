<link rel="import" href="bower_components/polymer/polymer.html">
<!--id - name of the custom component-->
<dom-module id="filters-box">
    <style>
    #filters_box {
        border-radius: 25px;
        background: #9A9A9A;
        padding: 20px;
        width: 200px;
        height: 100%;
    }
    
    button {
        margin-top: 20px;
    }

    </style>
    <template>
        <div id="filters_box">
            <button id="filter_box_apply_filters" type="button" class="btn btn-primary">Filter</button>
            <button id="filter_box_reset_filters" type="button" class="btn btn-primary">Reset</button>
        </div>
    </template>
</dom-module>
<script>
// element registration
Polymer({
    // name of the element
    is: "filters-box",
    //Lifecycle callbacks
    created: function() {
        var jsonFilters = $('#' + this.id).attr('filters');

        // check if all the mandatory fields are present
        if (!jsonFilters)
            console.log('You must input a JSON with the filters');

        $.when(
            $.getJSON(jsonFilters)
        ).then(function(jsonFilters) {
            // create a new Filter ???
            // set the filters for the vector map
            // in case the filters element show up before the vector-map element
            if (vectorMap == undefined)
                vectorMap = new VectorialMap();
            jsonFiltersArray = readFiltersFromJSON(jsonFilters);
            setMultipleFilters(jsonFiltersArray);
        });
    },
    properties: {
        // declare properties for the element's public API
        filters: {
            type: String,
            value: ''
        }
    }
});
</script>
