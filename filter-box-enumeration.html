<link href="bower_components/polymer/polymer.html" rel="import">
<!--id - name of the custom component-->
<dom-module id="filters-box-enumeration">
	<style>
		#filters_box_enumeration {
			border-radius: 25px;
			background: #9a9a9a;
			padding: 20px;
			width: 200px;
			height: 100%;
			margin-top: 20px;
		}

		button {
			margin-top: 20px;
		}
	</style>
	<template>
		<div id="filters_box_enumeration">
			<button class="btn btn-primary" id="filter_box_apply_filters" type="button">Filter</button>
			<button class="btn btn-primary" id="filter_box_reset_filters" type="button">Reset</button>
		</div>
	</template>
</dom-module>
<script type="text/javascript">
	// element registration
	Polymer({
		// name of the element
		is: "filters-box-enumeration",
		//Lifecycle callbacks
		created: function () {
			var jsonFilters = $('#' + this.id).attr('filters');

			// check if all the mandatory fields are present
			if (!jsonFilters)
				console.log('You must input a JSON with the filters');

			$.when($.getJSON(jsonFilters)).then(function (jsonFilters) {
				// create a new Filter ???
				// set the filters for the vector map
				// in case the filters element show up before the vector-map element
				if (vectorMap == undefined)
					vectorMap = new VectorialMap();

				jsonFiltersArray = readFiltersFromJSON(jsonFilters);
				setMultipleFiltersEnumeration(jsonFiltersArray);
			});
		},
		properties: {
			// declare properties for the element's public API
			filters: {
				type: String,
				value: ''
			}
		}
	});
</script>
